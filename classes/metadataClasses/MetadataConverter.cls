public with sharing class MetadataConverter implements Metadata.DeployCallback {
    //private static final String METARACE_JSON = '[{"MasterLabel":"Dwarf","Image__c":"dwarf.png","Taxonomy__c":"Homo sapiens pumilionis","Identification__c":"The average dwarf is 1.2 meters tall and weighs 54 kilograms. His coloration is usually pinkish-white or light tan, but may be as dark as ebony. Female dwarfs have 2 mammae, and all dwarfs have 32 teeth. Dwarf legs are disproportionately short, making them poor runners. Their torsos are wide, with great breadth at the shoulders, endowing the subspecies with increased arm strength. Their body hair is well-developed and head hair profuse; males have extensive facial hair. The dwarf nose tends to be large and long, and the ears slightly pointed.","Habitat__c":"This subspecies prefers artificial or natural caverns in wilderness areas. In urban environments, dwarfs show a preference for dwelling in basements or sub-basements.","Habits__c":"Dwarfs may be active by day or night. Their diet is omnivorous. Populations form small family groups, and though they show isolationist tendencies, small enclaves are found in communities all over the world. Their life span is unverified, but predictions based on metabolic rates run to more than a hundred years. Their breeding season is unrestricted. The gestation period is 284 days.","Young__c":"One. Birth weight is 5.6 percent of mother\'s weight. Suckling time is more than 15 months.","Commentary__c":"With eyes sensitive to the infrared spectrum, a dwarfs activity is as unrestricted underground as above. Dwarf phenotypes also show an increased resistance to pathogens.","RunningMultiplier__c":2,"Notes__c":"+1 Body, +2 Strength, -1 Quickness, thermographic vision, +2 resist disease"},{"MasterLabel":"Elf","Image__c":"elf.png","Taxonomy__c":"Homo sapiens nobilis","Identification__c":"The height of the typical elf is 1.9 meters, and his weight is 72 kilograms. Coloration is pale pink to white or ebony. The females have 2 mammae, and all elves have 32 teeth. Nobilis is more slender than sapiens and has a lighter build, though the bone structure and musculature are equally strong. The slenderness is exaggerated in nobilis of Polynesian and Australian aboriginal origin. Elven body hair is sparse, but head hair is usually luxuriant and extremely fine. Elven hair is usually straight or slightly wavy, and Is almost always worn long. There are also several populations showing tightly curled head hair, however. The eyes are almond-shaped; in darker-skinned nobilis they are often slightly protuberant. The ears come to a definite point.","Habitat__c":"In urban areas, elves inhabit standard human structures. In wilderness areas, they prefer to live In structures built of natural materials or living plants.","Habits__c":"Elves are nocturnal beings. Their diet is vegetarian. They tend to live In small groups, preferably apart from the rest of humanity. The elf life expectancy is unverified, with possible life spans of several hundred years, but metabolic studies are inconclusive. The elven breeding season is unrestricted. Gestation is 360 days.","Young__c":"Usually one, though twins are common. In such cases, only one is nobilis, with the other usually nonviable. Birth weight is 5.2 percent of mother\'s weight. Suckling time is more than 25 months.","Commentary__c":"Elven eyes are heavily endowed with rod structures. This allows them to see in dim light far better than sapiens.","RunningMultiplier__c":3,"Notes__c":"+1 Quickness, +2 Charisma, lowlight vision"},{"MasterLabel":"Ork","Image__c":"ork.png","Taxonomy__c":"Homo sapiens robustus","Identification__c":"Orks are 1.9 meters tall and weigh 95 kilograms. Their skin coloration varies from pale pink to ebony. Ork bodies are proportioned similarly to that of sapiens, but robustus is more heavily built. Head hair is usually more prominent than the sapiens ethnic group from which the individual robustus was derived. The ork nose tends to be broad and the lips thin. The ears show definite points and are sometimes elongated as well. The ork skull has 32 teeth, with greatly enlarged lower canines. Ork females have 2 mammae. Similar Species: Robustus, like ingentis, is highly variable in appearance, leading investigators to theorize that certain individuals or small communities are, in fact, other subspecies or other species entirely. This variety of types continues to mislead unwary researchers.","Habitat__c":"Usually In roofed buildings.","Habits__c":"Orks are active day and night, but seem to prefer the night. Their diet is omnivorous, but with a distinct preference for meat. Populations form large groups, often with a tribal structure. The typical life span appears to be between 35 and 40 years. Their breeding season is unrestricted. Gestation is 187 days.","Young__c":"Ork mothers usually bear four children, but births of six or eight are not uncommon. Birth weight is 4.2 percent of mother\'s weight. Suckling time is more than seven months. Most newboms are obviously robustus, but may appear as sapiens; 95 percent of the latter will express at puberty, which occurs around age ten.","Commentary__c":"The higher proportion of rod over cone structures In the ork\'s eyes allows enhanced low-light vision. Individuals expressing into robustus usually evidence negative psychological effects, with severe psychoses and aberrant behavioral patterns common. Individuals bom robustus usually socialize normally.","RunningMultiplier__c":3,"Notes__c":"+3 Body, +2 Strength, -1 Charisma, -1 Intelligence, lowlight vision"},{"MasterLabel":"Troll","Image__c":"troll.png","Taxonomy__c":"Homo sapiens ingentis","Identification__c":"Trolls measure 2.8 meters and weigh 225 kilograms. Skin color varies from pinkish-white to mahogany brown, and usually remains unchanged after ingentisization, or transformation into troll form. Ingentis body proportions differ from those of sapiens, with the ratio of arm-to-leg length significantly higher in ingentis. Trolls are very heavily built and occasionally exhibit dermal bone deposition, resulting in spines, rough surface texture, or an armor-plated effect. Body hair is usually well-developed, but may be absent altogether. Head hair is usually more prominent than among the sapiens ethnic group from which the individual ingentis was derived. The nose tends to be broad. The ears show definite points and are sometimes elongated. The sloped skull has 34 teeth; lower canines are enlarged and molars display extreme convolutions, which researchers interpret to mean that ingentis teeth are constantly regenerating. Troll females have 2 mammae. Similar Species: Some investigators believe that individuals or small communities of this subspecies are, in fact, other species entirely. Futher Investigation, including breeding studies, are required to confirm such hypotheses, as trolls are highly variable in appearance.","Habitat__c":"Trolls who live in wilderness areas use caverns and converted structures such as bridges for their dwelling places. In urban areas, they prefer areas shunned by \\"normals\\", such as sewers or derelict buildings.","Habits__c":"Trolls prefer nighttime activity. Their diet is omnivorous. Populations usually congregate in small groups, which often cohabit with subspecies robustus. Metabolic studies and direct observation indicate a life expectancy of about 50 years. The breeding season Is unrestricted. Gestation Is 259 days.","Young__c":"Usually one. Birth weight is 2.5 percent of mother\'s weight. Suckling time Is more than 15 months.","Commentary__c":"The sensitivity of trolls\' eyes to the infrared portion of the spectrum allows a troll almost unrestricted activity after dark. Expression from sapiens to ingentis adversely affects an individual\'s mental condition, often resulting In psychosis and aberrant behavioral pattems. Individuals bom as ingentis do not experience this trauma and usually socialize normally.","RunningMultiplier__c":2,"Notes__c":"+5 Body, +4 Strength, -1 Quickness, -2 Charisma, -2 Intelligence, -1 Wilpower, thermographic vision, +1 reach in melee combat, +1 dermal armour"},{"MasterLabel":"Human","Image__c":"human.png","Taxonomy__c":"Homo sapiens sapiens","Identification__c":"Humans stand about 1.7 meters high and weigh about 70 kilograms. Coloration Is variable, from pinkish-white to ebony. There are three major ethnic groups, each of which varies considerably in size, coloration, and hair distribution and quality, but the ears are always rounded, the skull has 32 teeth, and the women have 2 mammae.","Habitat__c":"Humans prefer to dwell in roofed structures.","Habits__c":"Most humans prefer daytime activity. Their diet is omnivorous. Human populations live in small family groups, pairs of adults, or alone. The worldwide average human life span is 55 years. The breeding season is unrestricted. Gestation is 266.5 days.","Young__c":"Usually one. Twins are uncommon and higher multiples even rarer. Birth weight is 5.5 percent of mother\'s weight. Suckling time is more than twelve months. An individual offspring may be of subspecies robustus or ingentis and may express (undergo Unexplained Genetic Expression) at puberty.","Commentary__c":"As the form of Homo sapiens present throughout recorded history, Homo sapiens sapiens is sometimes called \\"normal\\" as distinguished from other subspecies. This is not a scientific term, as any subspecies is just as normal as another. In common usage, the term differentiates sapiens from the groups of \\"metahumans\\" whose existence has been recorded since 2011.","RunningMultiplier__c":3,"Notes__c":""}]';
    //private static final String METARACE_ADJUS = '[{"Label":"Dwarf_Body","Type__c":"Metarace","Category__c":"Attribute","Field__c":"Body__c","Bonus__c":"","Value__c":1,"Description__c":"(Dwarf) +1 Body"},{"Label":"Dwarf_Strength","Type__c":"Metarace","Category__c":"Attribute","Field__c":"Strength__c","Bonus__c":"","Value__c":2,"Description__c":"(Dwarf) +2 Strength"},{"Label":"Dwarf_Quckness","Type__c":"Metarace","Category__c":"Attribute","Field__c":"Quickness__c","Bonus__c":"","Value__c":-1,"Description__c":"(Dwarf) -1 Quickness"},{"Label":"Dwarf_Willpower","Type__c":"Metarace","Category__c":"Attribute","Field__c":"Willpower__c","Bonus__c":"","Value__c":1,"Description__c":"(Dwarf) +1 Willpower"},{"Label":"Dwarf_Thermo","Type__c":"Metarace","Category__c":"Vision","Field__c":"","Bonus__c":"","Value__c":0,"Description__c":"(Dwarf) thermographic vision"},{"Label":"Dwarf_Disease","Type__c":"Metarace","Category__c":"Other","Field__c":"","Bonus__c":"","Value__c":2,"Description__c":"(Dwarf) +2 disease resistance"},{"Label":"Elf_Quickness","Type__c":"Metarace","Category__c":"Attribute","Field__c":"Quickness__c","Bonus__c":"","Value__c":1,"Description__c":"(Elf) +1 Quickness"},{"Label":"Elf_Charisma","Type__c":"Metarace","Category__c":"Attribute","Field__c":"Charisma__c","Bonus__c":"","Value__c":2,"Description__c":"(Elf) +2 Charisma"},{"Label":"Elf_Lowlight","Type__c":"Metarace","Category__c":"Vision","Field__c":"","Bonus__c":"","Value__c":0,"Description__c":"(Elf) lowlight vision"},{"Label":"Ork_Body","Type__c":"Metarace","Category__c":"Attribute","Field__c":"Body__c","Bonus__c":"","Value__c":3,"Description__c":"(Ork) +3 Body"},{"Label":"Ork_Strength","Type__c":"Metarace","Category__c":"Attribute","Field__c":"Strength__c","Bonus__c":"","Value__c":2,"Description__c":"(Ork) +2 Strength"},{"Label":"Ork_Charisma","Type__c":"Metarace","Category__c":"Attribute","Field__c":"Quickness__c","Bonus__c":"","Value__c":-1,"Description__c":"(Ork) -1 Quickness"},{"Label":"Ork_Intelligence","Type__c":"Metarace","Category__c":"Attribute","Field__c":"Intelligence__c","Bonus__c":"","Value__c":-1,"Description__c":"(Ork) -1 Intelligence"},{"Label":"Ork_Lowlight","Type__c":"Metarace","Category__c":"Vision","Field__c":"","Bonus__c":"","Value__c":0,"Description__c":"(Ork) lowlight vision"},{"Label":"Troll_Body","Type__c":"Metarace","Category__c":"Attribute","Field__c":"Body__c","Bonus__c":"","Value__c":5,"Description__c":"(Troll) +5 Body"},{"Label":"Troll_Strength","Type__c":"Metarace","Category__c":"Attribute","Field__c":"Strength__c","Bonus__c":"","Value__c":4,"Description__c":"(Troll) +4 Strength"},{"Label":"Troll_Quickness","Type__c":"Metarace","Category__c":"Attribute","Field__c":"Quickness__c","Bonus__c":"","Value__c":-1,"Description__c":"(Troll) -1 Quickness"},{"Label":"Troll_Charisma","Type__c":"Metarace","Category__c":"Attribute","Field__c":"Charisma__c","Bonus__c":"","Value__c":-2,"Description__c":"(Troll) -2 Charisma"},{"Label":"Troll_Intelligence","Type__c":"Metarace","Category__c":"Attribute","Field__c":"Intelligence__c","Bonus__c":"","Value__c":-2,"Description__c":"(Troll) -2 Intelligence"},{"Label":"Troll_Thermo","Type__c":"Metarace","Category__c":"Vision","Field__c":"","Bonus__c":"","Value__c":0,"Description__c":"(Troll) thermographic vision"},{"Label":"Troll_Reach","Type__c":"Metarace","Category__c":"Other","Field__c":"","Bonus__c":"","Value__c":1,"Description__c":"(Troll) +1 reach in melee combat"},{"Label":"Troll_Dermal","Type__c":"Metarace","Category__c":"Attribute","Field__c":"Body__c","Bonus__c":"true","Value__c":1,"Description__c":"(Troll) +1 dermal armour"}]';
    //private static final String SKILL_TEMPLATES = '[{"Type__c":"Active","Category__c":"Combat","Label":"Armed Combat","Description__c":"Armed Combat Skill governs the use of hand-held melee weapons.","Concentrations__c":"Edged Weapons (SW), Pole Arms/Staff (SW), Whips/Flails (SW), Clubs (SW)","Requires_Name__c":""},{"Type__c":"Active","Category__c":"Combat","Label":"Unarmed Combat","Description__c":"Unarmed Combat Skill governs the use of martial arts techniques and implant weapons. A Concentration for Martial Arts Style (with a Specialization for specific techniques) is listed below. This Concentration (e.g.. tae kwon do) and Specialization (hand strikes) is only appropriate for use in the game when both the player and gamemaster understand the specifics of the desired style, including its forms and limitations.","Concentrations__c":"Subduing Combat, Cyber-Implant Weaponry (SW), Martial Arts Style (Specific Technique)","Requires_Name__c":""},{"Type__c":"Active","Category__c":"Combat","Label":"Demolition","Description__c":"Demolition Skill governs the preparation, measuring, and setting of chemical explosives.","Concentrations__c":"Commercial Explosives, Plastic Explosives","Requires_Name__c":""},{"Type__c":"Active","Category__c":"Combat","Label":"Firearms","Description__c":"Firearms Skill governs the use of all types of firearms, from pistols to grenade launchers.","Concentrations__c":"Pistols (SW), Rifles (SW), Submachine Guns (SW), Light Machine Guns (SW), Grenade Launchers (SW), Tasers (SW)","Requires_Name__c":""},{"Type__c":"Active","Category__c":"Combat","Label":"Gunnery","Description__c":"Gunnery Skill governs the use of heavy weapons, whether on tripods, vehicle mounts, pIntles, or In fixed emplacements.","Concentrations__c":"Machine Guns (SW), Missile/Rocket Launch-ers (SW), Assault Cannon (SW), Vehicle-Mounted Cannon (SW)","Requires_Name__c":""},{"Type__c":"Active","Category__c":"Combat","Label":"Projectile Weapons","Description__c":"Projectile Weapons govern the use of muscle-powered projec-tile weapons.","Concentrations__c":"Bows (SW), Crossbows (SW)","Requires_Name__c":""},{"Type__c":"Active","Category__c":"Combat","Label":"Throwing Weapons","Description__c":"Throwing weapons govern the use of weapons thrown by the user.","Concentrations__c":"Shafted (SW), Non-Aerodynamic (Grenades, Knives), Aerodynamic (Shuriken, Airfoil Grenades)","Requires_Name__c":""},{"Type__c":"Active","Category__c":"Physical","Label":"Athletics","Description__c":"Athletics Skill governs exceptional training in a particular aspect of physical endeavor. Specialization involves increasing one\'s Concentration, rather than working in a specific form. Thus, a character Specializing in Climbing applies +2 to his Athletics Rating when climbing and -2 when using a different Athletics Concentration.","Concentrations__c":"Running, Climbing, Lifting, Jumping, Swimming","Requires_Name__c":""},{"Type__c":"Active","Category__c":"Physical","Label":"Stealth","Description__c":"Stealth Skill governs sneaking around, moving quietly, tracking (and covering one\'s tracks), secretly trailing another character, or giving a tail the shake. Each aspect of the skill may become a Specialization for any environmental Concentration","Concentrations__c":"Urban (by aspect), Wilderness (by aspect), Farmland (by aspect)","Requires_Name__c":""},{"Type__c":"Active","Category__c":"Technical","Label":"Biotech","Description__c":"Biotech Skill governs basic medicine, first aid, and implant operations. A character with this skill understands basic medicine in a hands-on sense, as a paramedic rather than a physician. Though familiar with the techniques and materials of cyberware, a character with this skill would still need a computer expert to collaborate on the interface systems.","Concentrations__c":"Transimplant Surgery (Headware, Bodyware, Organic Replacements), Organ Culture (by organ or limb), Replacement Construction (by organ or limb), Extended Care, First Aid","Requires_Name__c":""},{"Type__c":"Active","Category__c":"Technical","Label":"Computer","Description__c":"Computer Skill governs the use and understanding of computer technology and programming. This skill is absolutely essential to anyone who wishes to lack into cyberspace and run the Matrix.","Concentrations__c":"Hardware (Mainframes, Micros, Interface Tech, Implant Tech), Software (Decking, Matrix Programming, Non-Matrix Programming, Interface Programming, Implant Programming)","Requires_Name__c":""},{"Type__c":"Active","Category__c":"Technical","Label":"Electronics","Description__c":"Electronics Skill governs the use and understanding of electronic devices, which, in the 2050s is most everything in common use in a city. Specialization involves increasing the depth of Concentration, as in Athletics. Thus, Specializing in Maglocks applies a +2 to that Concentration but a -2 to all other Electronics Concentrations.","Concentrations__c":"Control Systems, Electronic Warfare, Maglocks, Linking between Devices, Diagnostics","Requires_Name__c":""},{"Type__c":"Active","Category__c":"Magical","Label":"Enchanting","Description__c":"Enchanting governs the manufacture of magical ritual materials and fetishes (talismongering), refining special magical materials (alchemy), and making magical foci (artificing). Anyone, even a mundane, can use Talismongering Skill, but only a full magician or an enchanter i.e., a magical (enchanting) adept, can perform alchemy and artificing. Enchanting is also useful for analyzing foci (multiple focuses) and for reducing the cost of bonding them.","Concentrations__c":"Talismongering, Alchemy, Artificing","Requires_Name__c":""},{"Type__c":"Active","Category__c":"Magical","Label":"Conjuring","Description__c":"Conjuring Skill governs the calling and banishing of spirit powers. Only mages can call elementals, and only shamans can call nature spirits.","Concentrations__c":"Elemental (Type), Nature Spirit (Type)","Requires_Name__c":""},{"Type__c":"Active","Category__c":"Magical","Label":"Sorcery","Description__c":"Sorcery Skill governs the control of magical energy in the form of spells.","Concentrations__c":"Spellcasting (by Spell Category), Ritual Sorcery (by Spell Category)","Requires_Name__c":""},{"Type__c":"Build and Repair","Category__c":"Active","Label":"Armed Combat B/R","Description__c":"Build and repair Armed Combat equipment","Concentrations__c":"","Requires_Name__c":""},{"Type__c":"Build and Repair","Category__c":"Active","Label":"Demolition B/R","Description__c":"Build and repair Demolition equipment","Concentrations__c":"","Requires_Name__c":""},{"Type__c":"Build and Repair","Category__c":"Active","Label":"Firearms B/R","Description__c":"Build and repair Firearms equipment","Concentrations__c":"","Requires_Name__c":""},{"Type__c":"Build and Repair","Category__c":"Active","Label":"Gunnery B/R","Description__c":"Build and repair Gunnery equipment","Concentrations__c":"","Requires_Name__c":""},{"Type__c":"Build and Repair","Category__c":"Active","Label":"Projectile Weapons B/R","Description__c":"Build and repair Projectile Weapons equipment","Concentrations__c":"","Requires_Name__c":""},{"Type__c":"Build and Repair","Category__c":"Active","Label":"Throwing Weapons B/R","Description__c":"Build and repair Throwing Weapons equipment","Concentrations__c":"","Requires_Name__c":""},{"Type__c":"Build and Repair","Category__c":"Active","Label":"Biotech B/R","Description__c":"Build and repair Biotech equipment","Concentrations__c":"","Requires_Name__c":""},{"Type__c":"Build and Repair","Category__c":"Active","Label":"Computer B/R","Description__c":"Build and repair Computer equipment","Concentrations__c":"","Requires_Name__c":""},{"Type__c":"Build and Repair","Category__c":"Active","Label":"Electronics B/R","Description__c":"Build and repair Electronics equipment","Concentrations__c":"","Requires_Name__c":""},{"Type__c":"Build and Repair","Category__c":"Vehicle","Label":"Bike B/R","Description__c":"Build and repair Bike","Concentrations__c":"","Requires_Name__c":""},{"Type__c":"Build and Repair","Category__c":"Vehicle","Label":"Car B/R","Description__c":"Build and repair Car","Concentrations__c":"","Requires_Name__c":""},{"Type__c":"Build and Repair","Category__c":"Vehicle","Label":"Hovercraft B/R","Description__c":"Build and repair Hovercraft","Concentrations__c":"","Requires_Name__c":""},{"Type__c":"Build and Repair","Category__c":"Vehicle","Label":"Rotor Craft B/R","Description__c":"Build and repair Rotor Craft","Concentrations__c":"","Requires_Name__c":""},{"Type__c":"Build and Repair","Category__c":"Vehicle","Label":"Sailboat B/R","Description__c":"Build and repair Sailboat","Concentrations__c":"","Requires_Name__c":""},{"Type__c":"Build and Repair","Category__c":"Vehicle","Label":"Vectored Thrust B/R","Description__c":"Build and repair Vectored Thrust","Concentrations__c":"","Requires_Name__c":""},{"Type__c":"Build and Repair","Category__c":"Vehicle","Label":"Winged Plane B/R","Description__c":"Build and repair Winged Plane","Concentrations__c":"","Requires_Name__c":""},{"Type__c":"Build and Repair","Category__c":"Vehicle","Label":"Motorboat B/R","Description__c":"Build and repair Motorboat","Concentrations__c":"","Requires_Name__c":""},{"Type__c":"Knowledge","Category__c":"","Label":"Biology","Description__c":"Biology Skill covers the general life sciences. Specializations include all the specific branches of each discipline, which are too numerous to list here.","Concentrations__c":"Zoology, Botany Medicine, Parazoology, Parabotany","Requires_Name__c":""},{"Type__c":"Knowledge","Category__c":"","Label":"Computer Theory","Description__c":"Computer Theory Skill governs computer design and architecture.","Concentrations__c":"Hardware (Mainframes, Micros, Interface Tech, Implant Tech), Software (Decking, Matrix Programming, Non-Matrix Programming, Interface Programming, Implant Programming), Matrix Theory","Requires_Name__c":""},{"Type__c":"Knowledge","Category__c":"","Label":"Cybertechnology","Description__c":"Cybertechnology Skill covers the design of implant and cybernetic control technology. Specializations are available for specific devices (SD).","Concentrations__c":"Headware (SD), Bodyware (SD)","Requires_Name__c":""},{"Type__c":"Knowledge","Category__c":"","Label":"Magical Theory","Description__c":"Magical Theory includes a general understanding of the functions and functioning of magic. It is vital in the design of new spells.","Concentrations__c":"Design (Shamanic, Hermetic), History (by Continent)","Requires_Name__c":""},{"Type__c":"Knowledge","Category__c":"","Label":"Military Theory","Description__c":"Military Theory covers theoretical studies of men in combat and military organizations.","Concentrations__c":"Military History (by continent or period), Tactics (Air, Land, Sea)","Requires_Name__c":""},{"Type__c":"Knowledge","Category__c":"","Label":"Physical Sciences","Description__c":"This skill includes engineering as well as the physical sciences. Specializations are the various branches of each discipline, which are too numerous to list here.","Concentrations__c":"Engineering, Physics, Chemistry, Geology","Requires_Name__c":""},{"Type__c":"Knowledge","Category__c":"","Label":"Psychology","Description__c":"Psychology includes the behavioral science in its analytical and predictive forms. Specializations are for specific types of behavior and personality types.","Concentrations__c":"Individual Behavior, Group Behavior, Deviant Behavior","Requires_Name__c":""},{"Type__c":"Knowledge","Category__c":"","Label":"Sociology","Description__c":"Sociology covers historical and observational sciences concerning humans and human interactions. Specializations are by continent or culture.","Concentrations__c":"History, Anthropology, Archaeology","Requires_Name__c":""},{"Type__c":"Special","Category__c":"","Label":"Language","Description__c":"Players should note that there are no formal troll, dwarf, or ork languages. These characters use the languages of their mothers and fathers, most of whom are human. These groups may often speak a kind of patois, however.City Speak is one of several languages that are not part of any formal language group. Elvish, known more formally as Sperethiel, has been gaining popularity in recent years. Linguists who have studied the language\'s form and content can find no direct connections to existing language groups, though apparent derivations exist in Sperethiel\'s structure and style. The language apparently first came into use shortly after the founding of Tir Taimgire.As stated above, orks, trolls, dwarfs, and other groups that commonly live together In certain neighborhoods may frequently develop their own informal patois.","Concentrations__c":"","Requires_Name__c":true},{"Type__c":"Social","Category__c":"Ettiquette","Label":"Corporate Ettiquette","Description__c":"Corporate Ettiquette allows a character to function within the corporate subculture without appearing out of place. It also allows the character to recognize prominent figures within the subculture and have a general idea of their strengths, weaknesses, likes and dislikes. Ettiquette uses the target\'s Charisma rating as a target number","Concentrations__c":"","Requires_Name__c":""},{"Type__c":"Social","Category__c":"Ettiquette","Label":"Matrix Ettiquette","Description__c":"Matrix Ettiquette allows a character to function within the matrix subculture without appearing out of place. It also allows the character to recognize prominent figures within the subculture and have a general idea of their strengths, weaknesses, likes and dislikes. Ettiquette uses the target\'s Charisma rating as a target number","Concentrations__c":"","Requires_Name__c":""},{"Type__c":"Social","Category__c":"Ettiquette","Label":"Media Ettiquette","Description__c":"Media Ettiquette allows a character to function within the media subculture without appearing out of place. It also allows the character to recognize prominent figures within the subculture and have a general idea of their strengths, weaknesses, likes and dislikes. Ettiquette uses the target\'s Charisma rating as a target number","Concentrations__c":"","Requires_Name__c":""},{"Type__c":"Social","Category__c":"Ettiquette","Label":"Street Ettiquette","Description__c":"Street Ettiquette allows a character to function within the street subculture without appearing out of place. It also allows the character to recognize prominent figures within the subculture and have a general idea of their strengths, weaknesses, likes and dislikes. Ettiquette uses the target\'s Charisma rating as a target number","Concentrations__c":"","Requires_Name__c":""},{"Type__c":"Social","Category__c":"Ettiquette","Label":"Tribal Ettiquette","Description__c":"Tribal Ettiquette allows a character to function within the tribal subculture without appearing out of place. It also allows the character to recognize prominent figures within the subculture and have a general idea of their strengths, weaknesses, likes and dislikes. Ettiquette uses the target\'s Charisma rating as a target number","Concentrations__c":"","Requires_Name__c":""},{"Type__c":"Social","Category__c":"","Label":"Interrogation","Description__c":"Interrogation Skill governs the extraction of information from an unwilling subject. It uses the subject\'s Willpower rating as a target number. It is usually ineffective when applied against more than a single subject at a time.","Concentrations__c":"Verbal, Machine-Aided (Lie Detectors, Voice Stress Analysis)","Requires_Name__c":""},{"Type__c":"Social","Category__c":"","Label":"Leadership","Description__c":"Leadership Skill governs a character\'s ability to get others to do his bidding through the exercise of example and authority. It includes an aspect of problem-solving, but is not intended to substitute for clar thinking and good planning on the part of the players. Leadership skill uses the subject\'s Intelligence rating as a target number.","Concentrations__c":"Political, Military, Commercial (Specializations for each Concentration include Strategy (general plans), Tactics (topical plans), and Morale)","Requires_Name__c":""},{"Type__c":"Social","Category__c":"","Label":"Negotiation","Description__c":"Negotiation Skill governs any interactions in which each side seeks to come out ahead, either through careful and deliberate bartering or through fast talk. It uses the adversary\'s Willpower rating a target number.","Concentrations__c":"Bargain, Bribe, Fast Talk","Requires_Name__c":""},{"Type__c":"Special","Category__c":"","Label":"Special","Description__c":"Special skills is a catch-all category of skills intended to round out a character as an Individual. These include hobbies, interests, artistic endeavors, and other unique skills. Be creative.","Concentrations__c":"","Requires_Name__c":true},{"Type__c":"Vehicle","Category__c":"","Label":"Bike","Description__c":"Bike Skill governs the use of all motorcycles, motortrikes, and bikes with sidecars.","Concentrations__c":"Two-wheeler (SV), Three-wheeler (SV), Racing (SV)","Requires_Name__c":""},{"Type__c":"Vehicle","Category__c":"","Label":"Car","Description__c":"Car Skill refers to a motor vehicle with four or more wheels.","Concentrations__c":"Passenger Vehicle (SV), Truck (SV), Racing (SV) , Remote Operation (Category)","Requires_Name__c":""},{"Type__c":"Vehicle","Category__c":"","Label":"Hovercraft","Description__c":"Hovercraft Skill governs all hover vehicles, regardless of their purpose.","Concentrations__c":"Passenger Craft (SV), Transport Craft (SV), Racing (SV), Remote Operation (Category)","Requires_Name__c":""},{"Type__c":"Vehicle","Category__c":"","Label":"Rotor Craft","Description__c":"Rotor Craft Skill refers to flxed- and tilt-rotor aircraft.","Concentrations__c":"TIlt-Rotor (SV), FIxed-Rotor (SV), Remote Operation (Category)","Requires_Name__c":""},{"Type__c":"Vehicle","Category__c":"","Label":"Sailboat","Description__c":"Sailboat Skill governs the control of sail -powered watercraft.","Concentrations__c":"Pleasure Craft (SV), Transport (SV), Racing (SV)","Requires_Name__c":""},{"Type__c":"Vehicle","Category__c":"","Label":"Vectored Thrust","Description__c":"Vectored Thrust Skill encompasses aircraft relying on vectored thrust for lift and propulsion . This includes low-altitude vehicles (known colloquially as thunderbirds), military craft that use this motive power but do not normally operate at altitude because of their heavy loads or armor and armament.","Concentrations__c":"Vertical Take-Off and Landing (SV), LAV Craft (SV), Remote Operation (Category)","Requires_Name__c":""},{"Type__c":"Vehicle","Category__c":"","Label":"Winged Plane","Description__c":"Winged Plane Skill governs the control of fixed - or swing-wing aircraft (jet, prop, or turbo prop) and unpowered aircraft.","Concentrations__c":"Gliders (SV), Jets (SV), Propellers (SV), Racing (SV), Remote Operation (Category)","Requires_Name__c":""},{"Type__c":"Vehicle","Category__c":"","Label":"Motorboat","Description__c":"Motorboat Skill refers to any motorized watercraft.","Concentrations__c":"Pleasure Craft (SV), Transport (SV), Racing (SV), Remote Operation (Category)","Requires_Name__c":""}]';
    private static final String TOTEMS = '[{"Label":"Bear","Characteristics__c":"Bear is powerful in body, but ponderous unless he has to move fast. He seems clumsy and unaware of his surround-ings, but he is in harmony with the world and what goes on around him. He is slow in speech but mighty in battle Bear is a powerful healing totem found In shamanic cultures wherever bears are known, be it North America, central and northern Europe. or Asia. Bear is a healer. Unless a Bear shaman has a good reason to refuse healing to someone who needs it, he cannot do so.","Favored_EnvIronment__c":"Forest","Spell_Bonus__c":"health","Essence_Loss_Multiple__c":1,"Advantages__c":"+2 dice for all health spells; +2 dice for conjuring forest spirits.","Disadvantages__c":"A Bear shaman can go berserk when wounded. Whenever a Bear shaman is wounded, his player makes a Willpower Test with an Injury-modified Target Number of 3. The Bear shaman will go berserk for three turns, minus one turn for every success. If the player rolls 3 or more successes, the berserk rage Is controlled . A berserk shaman will attack the dosest living thing, using his most powerful weapons (either magical or physical). When the time Is up or if the shaman kills or incapacitates an enemy, the berserk fury dissipates."},{"Label":"Cat","Characteristics__c":"Cat Is stealthy, vain, cunning, and sometimes cruel. Cat loves to ferret out secrets, but dislikes sharing them with others, for she is Cat-Who-Walks-Alone. Cat is an urban totem, at home with mankind, either In their company or as a lonely hunter in city streets and alleyways. Cat shamans are solitary types, committed to no one but themselves.","Favored_EnvIronment__c":"Urban","Spell_Bonus__c":"illusion","Essence_Loss_Multiple__c":1,"Advantages__c":"+2 dice for illusion spells; +2 dice for conjuring city spirits.","Disadvantages__c":"Cat will toy with an opponent in battle, even when the situation is desperate. She will threaten, sneer, and hiss, displaying her dominance. She will also use showy magic, flashy physical combat. or other irrelevancies in the process of the kill. An unwounded Cat shaman must make a Willpower Test with a Target Number 6 when she wants to cast a combat spell. If the test falls, she casts the least damaging of the spells she knows. If the shaman Is wounded. all this playing around stops. Cat is so fastidiously clean that she suffers a + 1 target modifier to all her tests whenever dirty or unkempt."},{"Label":"Coyote","Characteristics__c":"Coyote Is the GreatTrickster, unpredictably bold one moment, cowardly the next. He can be a friend or a cruel joker who leads one Into danger. Coyote is also the great magician. A Coyote shaman is too independent to be bound by anything except his word. Like Grandfather Coyote of the legends, he is intensely curious. He is also typically greedy and fond of taking risks just for fun.","Favored_EnvIronment__c":"Anywhere on land","Spell_Bonus__c":"","Essence_Loss_Multiple__c":1,"Advantages__c":"None. A Coyote shaman would never permit himself to be limited by such concepts. He is beyond rules and lives by his own wits.","Disadvantages__c":""},{"Label":"Dog","Characteristics__c":"Dog is loyal to friends and family. He fights furiously to defend his home and holdings, but is not generally aggressive outside his own territory. Dog loves people, and will defend them pitilessly from dangerous spirits or evil magic. Once a Dog shaman gives his loyalty or love, he will remain loyal even ifthe person he loves is unworthy. A Dog shaman will try to protect humanity from evil magidans at any cost.","Favored_EnvIronment__c":"Urban","Spell_Bonus__c":"detection","Essence_Loss_Multiple__c":1,"Advantages__c":"+2 dice for detection spells; +2 dice for conjuring field and hearth spirits.","Disadvantages__c":"Dog is single-minded, to the point of stubbomness. Any time a Dog shaman changes his plans or tactics, his player must make a Willpower Test with a Target Number 4. The test Itself requires one Complex Action as Dog struggles to change his mind."},{"Label":"Eagle","Characteristics__c":"Eagle Is the highest-flying bird In the sky, and so comes dosest to heaven. He faces the rising sun at dawn and is lord of the highest peaks. Eagle is proud, solitary, and sees everything that happens on the Earth over which he flies.","Favored_EnvIronment__c":"Mountains","Spell_Bonus__c":"detection","Essence_Loss_Multiple__c":2,"Advantages__c":"+2 dice for detection spells; +2 dice for conjuring wind spirits.","Disadvantages__c":"An Eagle shaman will not tolerate evil or ignoble actions. He is a fierce defender of the land and the purity of nature, with a strong distrust of technology and Its tools. Polluters and others who would damage the land for profit are Eagle\'s enemies, and he will brave any danger to defeat them. Double all Essence losses caused byadding cyberware, because of the psychological impact this has on the Eagle shaman."},{"Label":"Gator","Characteristics__c":"Gator Is a greater fighter and a big eater. He is swift to act when action is called for, but lethargic, even torpid, the rest of the time. Gator is often ill-tempered, especially when prodded to action. But once he grips, he holds, and will not tum away from a path he has chosen.","Favored_EnvIronment__c":"Swamps or rivers in the wildeness. Gator is also an urban totem because myth, if not reality, has placed him in the sewers of the great cities. In magic, myth is as good as reality and so Gator thrives among urban shamans.","Spell_Bonus__c":"combat,detection","Essence_Loss_Multiple__c":1,"Advantages__c":"+2 dice for combat and detection spells; +2 dice for conjuring spirits of the swamp, lake, or river (If a wlldemess totem chosen), or city spirits (if an urban totem chosen).","Disadvantages__c":"Gator Is lazy and greedy. As an eater, he prefers to glut himself with food and then laze around. As a shadowrunner. he prefers a job with a big payoff that will let him take It easy until all the money is gone. It can take some hefty argument to make Gator exert himself. His greed makes him loathe to share material goods, and he will almost never make loans or pick up a check. Once on a job, he goes for the direct solution and is impatient of subtlety. To make a Gator shaman break off a fight, a chase, or other direct action takes a Willpower Test with a Target Number 6. He also subtracts 1 die for illusion spells."},{"Label":"Lion","Characteristics__c":"Lion is the brave and powerful warrior. His method is direct and pointed, for he is not a creature of subtlety. Lion prefers to work from surprise or ambush, allowing others to perform tasks for him while he holds his strength In reserve. He will take the offensive when necessary. Any threat to his kin or family is a threat to him.","Favored_EnvIronment__c":"Prairie","Spell_Bonus__c":"combat","Essence_Loss_Multiple__c":1,"Advantages__c":"+2 dice for combat spells; +2 dice for conjuring prairie spirits.","Disadvantages__c":"-1 die for health spells. Lion is vain and demands the most from himself, especially when it comes to his physical condition and appearance. He must live well, and demands respect and loyalty from those around him."},{"Label":"Owl","Characteristics__c":"Owl is a wise and silent watcher. She rarely speaks, but she sees much. Owl rules the night skies, and so what she hunts, she finds. Owl is friendly to her companions, but terrible to her enemies. By day, she is practically helpless.","Favored_EnvIronment__c":"Any urban or wilderness location, but spell-leamlng is conducted by night","Spell_Bonus__c":"","Essence_Loss_Multiple__c":1,"Advantages__c":"+2 dice for any sorcery, conjuring or enchanting by night.","Disadvantages__c":"+2 to all target numbers (even non-magical ones) when in direct sunlight. Even when Owl is sheltered from the sun, add +2 to all target numbers for magic during the daytime."},{"Label":"Raccoon","Characteristics__c":"Raccoon is a clever bandit who can break open any trap to remove the bait. He can also escape any danger, for his paws are like cunning hands. Raccoon fights when he must, but prefers strategy and trickery.","Favored_EnvIronment__c":"Anywhere but the desert","Spell_Bonus__c":"manipulation","Essence_Loss_Multiple__c":1,"Advantages__c":"+2 dice for manipulation spells; +2 dice for conjuring city spirits.","Disadvantages__c":"A Raccoon shaman is a loner. Like Coyote, his intense curiosity makes him ignore danger in any quest for information. Raccoon can be greedy (this is a thief totem), but Raccoon shamans will steal only the very best, for petty thefts and violent robberies are beneath their dignity. Raccoon shamans suffer a -1 die modifier for combat spells."},{"Label":"Rat","Characteristics__c":"Rat is a stealthy thief who is too selfish to share anything, even with his companions. He is also a reluctant warrior who would rather run than fight. Where mankind goes, there also goes Rat, for who else\'s bounty can sustain him?","Favored_EnvIronment__c":"Urban","Spell_Bonus__c":"detection,illusion","Essence_Loss_Multiple__c":1,"Advantages__c":"+2 dice for detection and illusion spells; +2 dice for conjuring all Spirits of Man.","Disadvantages__c":"Rat shamans are usually dirty and unkempt. Rat is a coward , but when he must fight, he fights to kill. Rat dlsllkes worklng out in the open, for a muttered spell from the shadows (or a silenced pistol from a doorway) is more his style. Subtract 1 die for combat spells."},{"Label":"Raven","Characteristics__c":"Like Coyote, Raven is a trickster, clever and devious. Raven is also the transformer, responsible for changes. He is a liVing contradiction, greedy and generous by turns.","Favored_EnvIronment__c":"Anywhere under the open sky","Spell_Bonus__c":"manipulation","Essence_Loss_Multiple__c":1,"Advantages__c":"+2 dice for manipulation spells; +2 dice for conjuring wind spirits.","Disadvantages__c":"Raven shamans are either overweight or else rail-thln. ln either case, they are gluttonous and always hungry, finding it next to impossible to refuse an offer of food .Raven dislikes fighting, preferring to let others handle that part of life. Subtract 1 die for combat spells. Whenever not under the open sky, Raven shamans suffer a + 1 to all target numbers."},{"Label":"Shark","Characteristics__c":"Shark Is a cold, relentless hunter, who Is savage In combat. With no fixed home, he knows all the secrets ofthe sea. Shark can be a totem ofshamans from any sea or shore-dweiling culture, indudlng the Hawalian kahunas, the Japanese miko, Haltlan houngans, Eskimo angekok, as well as the Native Americans ofthe Padfic Northwest and any surviving shamans among the few Australian aborigines still living in Drearntime.","Favored_EnvIronment__c":"On or by the sea","Spell_Bonus__c":"combat,detection","Essence_Loss_Multiple__c":1,"Advantages__c":"+2 dice for combat and detection spells; +2 dice for conjuring sea spirits.","Disadvantages__c":"A Shark shaman may go berserk when wounded in combat or if he kills an opponent. Whenever one of these conditions occurs, the shaman\'s player must make a Willpower Test, with an injury-modified Target Number 4. He will go berserk for 3 turns, minus 1 turn for every success. If he scores 3 or more successes, he won\'t go off. A berserk shaman will attack the closest living thing. using his most powerful weapons (either magical or physical). A berserk Shark shaman fights to kill. He may, alternatively, continue to hurl magic or use weapons against the Inert body of his last victim, savagely blasting or hacking it. Even if he is not berserk, Shark believes that the only good enemy is a dead enemy. If challenged, he does not waste time with threats or bragging, but strikes, usually to kill."},{"Label":"Snake","Characteristics__c":"Snake is a wise healer who dwells in many places and knows many secrets. Snake is a good councilor, but exacts a price for her advice. Snake is adaptable, and can confuse the senses of enemies.","Favored_EnvIronment__c":"Anywhere except mountains","Spell_Bonus__c":"healing,illusion,detection","Essence_Loss_Multiple__c":1,"Advantages__c":"+2 dice for healing, illusion, and detection spells. As a wildemess totem, +2 dice for conjuring any one Spirit of the Land (shaman\'s choice). As an urban totem, +2 dice for conjuring any one Spirit of Man (shaman\'s choice).","Disadvantages__c":"Snake will not fight unless she must defend herself or else hunt to eat. Snake shamans have a -1 die modifier for any spells cast during combat. Snake shamans are obsessed with learning secrets and will take enormous risks to do so."},{"Label":"Wolf","Characteristics__c":"Wolf is the hunter and warrior. He is brother to all his pack, and fiercely loyal to his mate and cubs. As the andent saying goes, Wolf wins every fight but the last, and In that one, he dies.","Favored_EnvIronment__c":"Forest, prarie or mountain","Spell_Bonus__c":"detection,combat","Essence_Loss_Multiple__c":1,"Advantages__c":"+2 dice for detection and combat spells; +2 dice for conjuring forest or prairie spirits (shaman\'s choice).","Disadvantages__c":"A Wolf shaman is loyal to his friends and family until death. Nothing can make him betray those bonds. Nor will he ever show cowardice. When a Wolf shaman extends his protection to another or otherwise accepts a responsibility, nothing can make him betray that bond. Wolf can, however, go berserk as a Bear does."}]';
    //private static final List<String> handles = 'Ace,Admiral,Aero,Aggy,Agile,Airborne,Airwave,Alter,Altitude,Ambush,Answer,Aqua,Arcade,Arch,Archangel,Armadillo,Artemis,Artsy,Aspect,Athena,Audio,Aura,Aurora,Babe,Badge,Bait,Baldy,Ballistic,Bambam,Bank,Barbarian,Barber,Basilisk,Bat,Beans,Beau,Beetle,Biggie,Bingo,Birds,Bishop,Black Magic,Black Widow,Blackjack,Blade,Block,Blush,Bo,Bold,Bolt,Bone,Boost,Boot,Brash,Brass,Buck,Buddy,Bunny,Butch,Butcher,Butterfly,Buzz,Buzz-Saw,Candy,Carbon,Cash,Casper,Cent,Chain,Chappie,Charge,Charisma,Checkmate,Chief,Chip,Clock,Clocks,Cobra,Coil,Collar,Console,Corsair,Cowboy,Crash,Creep,Crow,Cutie,Cycle,Cyclone,Cyclops,Cypher,Daddy,Dagger,Dapper,Dare,Daring,Darling,Dash,Dazzle,Deacon,Deedee,Delta,Demon,Digger,Digit,Dimple,Dish,Double,Dummy,Dust,Dusty,Eagle,Echo,Elite,Empress,Enigma,Exile,Falcon,Fang,Feedback,Fix,Flak,Flash,Flutters,Fortuna,Fox,Freefall,Freestyle,Fuzzy,Gadget,Game,Gator,Gem,Genius,Gentle,Ghost,Ghoul,Gibbs,Gift,Gigi,Gilly,Glide,Grave,Grim,Grinder,Grouch,Grunt,Gunner,Habit,Hack,Happy,Hawkeye,Hazard,Hazmat,Hide,Hollow,Howitzer,Hurricane,Hydra,Iceberg,Impulse,Inferno,Jackal,Joker,Jumbo,Junior,Kitty,Law,Leviathan,Lightning,Link,Lion,Liquid,Lockdown,Lunatic,Machine,Magician,Magnum,Major,Mamba,Mania,Mantis,Marauder,Marvel,Math,Mayor,Meltdown,Memo,Memory,Merry,Minotaur,Missile,Mistletoe,Mitzi,Monarch,Monk,Mouse,Mugs,Mugsy,Navigator,Nemo,Night,Nightingale,Nightowl,Nix,Note,Nova,Old Buck,Omega,Omen,Oracle,Outbreak,Outlaw,Overload,Owl,Panther,Patch,Pharaoh,Phase,Piece,Pilgrim,Pinball,Pirate,Pitch,Pixie,Poison,Poncho,Pops,Praetor,Prince,Princess,Prometheus,Prompt,Prophet,Push,Pyro,Quake,Queen Bee,Rabbit,Range,Razor,Renegade,Requiem,Riddle,Rip,Road Block,Robin,Rock,Romeo,Rook,Rouge,Route,Ruby,Ruin,Saber,Sable,Saint,Samurai,Sandman,Sandy,Sassy,Saturn,Scene,Scotch,Session,Shadow,Shark,Shift,Shroud,Silence,Silly,Skin,Skip,Sledge,Slim,Slingshot,Smasher,Snake,Snake Eyes,Sovereign,Spark,Sparkle,Specter,Spike,Spring,Spud,Stalker,Starfall,Sticks,Stitch,Stone,Stout,Strings,Stuffy,Survey,Switch,T-Bone,Tank,Tempest,Thrill,Thumper,Thunder,Tiny,Torch,Tornado,Trigger,Tripwire,Trouble,Turk,Turntable,Twinkle Toes,Twitch,Uncle,Vigilante,Viking,Viper,Volt,Vortex,Wardog,Warlord,Warpath,Whiskey,Wicked,Wiggles,Wildfire,Witch,Wolverine,Worm,Wraith,Yeti,Zealot,Zero,Zigzag'.split(',');
    public MetadataConverter() {

    }

    private static void containerMethod() {
        Metadata.DeployContainer mdContainer = new Metadata.DeployContainer();




    }


    public static void parseJson() {
        //Schema.SObjectType objType = MetaraceTemplate__mdt.SObjectType;
        //Type t = Type.forName('doof');


        //List<MetaraceTemplate__mdt> templates = (List<MetaraceTemplate__mdt>)JSON.deserialize(METARACE_JSON, List<MetaraceTemplate__mdt>.class);
        //ist<AdjustmentTemplate__mdt> templates = (List<AdjustmentTemplate__mdt>)JSON.deserialize(METARACE_ADJUS, List<AdjustmentTemplate__mdt>.class);

// SkillTemplate__mdt
        List<Totem__mdt> templates = (List<Totem__mdt>)JSON.deserialize(TOTEMS, List<Totem__mdt>.class);

        Metadata.DeployContainer mdContainer = new Metadata.DeployContainer();

        for (SObject obj : templates) {
            mdContainer.addMetadata(buildCustomMetadataRecord(obj));
        }

        System.debug(JSON.serializePretty(templates));

        deployCustomMetadataRecords(mdContainer);


    }

    // public static void parseList() {
    //     Metadata.DeployContainer mdContainer = new Metadata.DeployContainer();


    //     for (String str : handles) {
    //         System.debug(str);


    //         mdContainer.addMetadata(buildCustomMetadataRecordFromString(str));
    //     }

    //     deployCustomMetadataRecords(mdContainer);


    // }

    public static void deployCustomMetadataRecords(Metadata.DeployContainer mdContainer){
        MetadataConverter callback = new MetadataConverter();
        Id jobId;
        jobId = Metadata.Operations.enqueueDeployment(mdContainer, new MetadataConverter());
        System.debug(' jobId : '+ jobId);

    }

    public void handleResult(Metadata.DeployResult result, Metadata.DeployCallbackContext context) {
        if (result.status == Metadata.DeployStatus.Succeeded) {
            System.debug(' success : '+ result);
        } else {
            System.debug(' fail : '+ result);
        }
    }



    public static Metadata.CustomMetadata buildCustomMetadataRecord(SObject obj) {

        DescribeSObjectResult dr = obj.getSObjectType().getDescribe();

        Metadata.CustomMetadata customMetadata =  new Metadata.CustomMetadata();

        customMetadata.fullName = dr.getName() + '.' + String.valueOf(obj.get('Label')).replaceAll(' |-|/', '_');
        customMetadata.label = String.valueOf(obj.get('Label'));

        Map<String, Schema.SObjectField> objFields = dr.fields.getMap();
        for (String fieldName : objFields.keySet()) {
            if (fieldName == 'label') { continue; }

            Schema.SObjectField field = objFields.get(fieldName);
            Schema.DescribeFieldResult dfr = field.getDescribe();
            Schema.DisplayType fieldType = dfr.getType();

            Object fieldValue = obj.get(fieldName);
            System.debug('fieldName:' + fieldName + ' value:' + fieldValue);


            if (fieldValue != null) {
                Metadata.CustomMetadataValue customField = new Metadata.CustomMetadataValue();
                customField.field = fieldName;
                customField.value = fieldValue; 
                customMetadata.values.add(customField);
            }
        }

        return customMetadata;

    }

    public static Metadata.CustomMetadata buildCustomMetadataRecordFromString(String obj) {

        //DescribeSObjectResult dr = obj.getSObjectType().getDescribe();

        Metadata.CustomMetadata customMetadata =  new Metadata.CustomMetadata();

        customMetadata.fullName = 'Totem__mdt.' + obj.replaceAll(' |-|/', '_');
        customMetadata.label = obj;

        // Map<String, Schema.SObjectField> objFields = dr.fields.getMap();
        // for (String fieldName : objFields.keySet()) {
        //     if (fieldName == 'label') { continue; }

        //     Schema.SObjectField field = objFields.get(fieldName);
        //     Schema.DescribeFieldResult dfr = field.getDescribe();
        //     Schema.DisplayType fieldType = dfr.getType();

        //     Object fieldValue = obj.get(fieldName);
        //     System.debug('fieldName:' + fieldName + ' value:' + fieldValue);


        //     if (fieldValue != null) {
        //         Metadata.CustomMetadataValue customField = new Metadata.CustomMetadataValue();
        //         customField.field = fieldName;
        //         customField.value = fieldValue; 
        //         customMetadata.values.add(customField);
        //     }
        // }

        return customMetadata;
    }

}